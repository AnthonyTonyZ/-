System.register("chunks:///_virtual/%E7%9E%92%E5%A4%A9%E4%B9%90%E6%B8%B8_%E6%9B%99%E5%BD%B1_%E5%BF%85%E6%9D%80%E6%8A%80.ts",["cc"],(function(){var E;return{setters:[function(B){E=B.cclegacy}],execute:function(){E._RF.push({},"8e4538h3dxLYK7FyrGgOyaP","%E7%9E%92%E5%A4%A9%E4%B9%90%E6%B8%B8_%E6%9B%99%E5%BD%B1_%E5%BF%85%E6%9D%80%E6%8A%80",void 0),E._RF.pop()}}}));

System.register("chunks:///_virtual/actor.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"3e9f5VIwI1PZqtyw9FSktOv","actor",void 0);t("actor",(function(){this.id=void 0,this.hp=void 0,this.mp=void 0,this.energy=void 0,this.atk=void 0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/ActorActionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./PlayerCon.ts","./ActorProperty.ts","./Projectile.ts","./logUtil.ts","./AudioManager.ts","./LevelCon.ts","./ProjectileEmiter.ts","./EffectCon.ts"],(function(t){var e,i,n,o,a,r,s,c,l,h,d,u,g,p,f,v,m,A,T,C,y,S,I,P,N,E,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Vec2,c=t.Animation,l=t.CCFloat,h=t.v3,d=t.RigidBody2D,u=t.Collider2D,g=t.director,p=t.Contact2DType,f=t.math,v=t.Vec3,m=t.Label,A=t.Component},function(t){T=t.Constant},function(t){C=t.PlayerCon},function(t){y=t.ActorProperty},function(t){S=t.Projectile},function(t){I=t.logUtil},function(t){P=t.AudioManager},function(t){N=t.LevelCon},function(t){E=t.ProjectileEmitter},function(t){O=t.EffectCon}],execute:function(){var _,k,D,w,b,R,F;a._RF.push({},"71e59Bm+c9Ca5gNgU1ksX3b","ActorActionManager",void 0);var H=r.ccclass,M=r.property,L=new s;t("ActorActionManager",(_=H("ActorActionManager"),k=M(c),D=M(l),_((R=e((b=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"animation",R,o(e)),e.currState=T.ACTION.Idle,e.rigidbody=null,e.collider=null,e.destForward=h(),e.data=void 0,n(e,"linearSpeed",F,o(e)),e.actorProperty=new y,e.scene=void 0,e.buffs=[],e.log=I.instance,e.logLevel="ActorActionManager",e}i(e,t);var a=e.prototype;return a.start=function(){var t;this.log.log(this.logLevel,"start"),this.log.log("test_fight","[3:ActorActionManager:start]{标识:"+this.node.uuid+",hp:"+this.actorProperty.hp+",maxHp:"+this.actorProperty.maxHp+",attack:"+this.actorProperty.attack+",移动速度:"+this.linearSpeed+"}"),this.animation=null==(t=this.node.children[0])?void 0:t.getComponent(c),this.rigidbody=this.node.getComponent(d),this.collider=this.node.getComponent(u),this.scene=g.getScene(),this.collider.on(p.BEGIN_CONTACT,this.onTriggerEnter,this),this.animation&&(this.changeAttackSpeed(this.data.attackSpeed),this.animation.on(c.EventType.FINISHED,this.onAnimationFinished,this))},a.onDestroy=function(){var t,e;this.log.log(this.logLevel,"onDestroy"),null==(t=this.collider)||t.off(p.BEGIN_CONTACT,this.onTriggerEnter,this),null==(e=this.animation)||e.off(c.EventType.FINISHED,this.onAnimationFinished,this)},a.changeState=function(t){var e;this.log.log(this.logLevel,"changeState"),this.currState!=T.ACTION.Die&&(this.currState==T.ACTION.Run&&t!=T.ACTION.Run&&this.stopMove(),null==(e=this.animation)||e.crossFade(t,.1),this.currState=t)},a.update=function(t){switch(this.log.log(this.logLevel,"changeState",this.currState),this.currState){case T.ACTION.Run:this.doMove()}},a.onAnimationFinished=function(t,e){this.log.log(this.logLevel,"onAnimationFinished"),e.name==T.ACTION.Attack&&this.changeState(T.ACTION.Run),e.name==T.ACTION.Run&&this.changeState(T.ACTION.Run)},a.doMove=function(){this.log.log(this.logLevel,"doMove"+L.x);var t=this.linearSpeed*this.destForward.length();L.x=f.clamp(this.destForward.x,-1,1)*t,L.y=f.clamp(this.destForward.y,-1,1)*t,this.log.log("ORCA",this.logLevel+3+"移动预测{\n            节点id:"+this.node.uuid+",\n            刚体速度:"+L+",\n            目标方向:"+this.destForward+",\n        }"),this.rigidbody.linearVelocity=L},a.stopMove=function(){this.rigidbody.linearVelocity=s.ZERO,this.log.log(this.logLevel,"stopMove")},a.onTriggerEnter=function(t,e){this.log.log(this.logLevel,"碰撞行为{发起者:"+this.node.name+",self:"+t.node.name+",other:"+e.node.name+"}");var i=e.node.getComponent(S).host.getComponent(C).actor;this.hurt(i.actorProperty.attack,i,T.HURT_TYPE.Attack),e.node.getComponent(S).onTriggerEnter(e,t)},a.hurt=function(t,e,i){var n,o,a,r,s,l,h=this;this.log.log(this.logLevel,"hurt"),this.changeState(T.ACTION.Hit),this.data&&P.instance.playSfx(this.data.hitSfx);var d=null==(n=this.node.children[2])?void 0:n.getComponent(c);d&&d.play(T.EFFECT.Explosion);var u=this.node.getComponent(C),p=null==e?void 0:e.node.getComponent(C);if(u&&T.HURT_TYPE.Attack==i&&u.regime==T.DYNAMIC_RESOURCE.Actor.Forces2.Regime)for(var f=O.instance.skillList,v=0;v<f.length;v++)f[v].isBuff||this.addBuff(f[v]);this.log.log("test_fight","粗略信息:"+(null==e?void 0:e.node.uuid)+"通过["+i+"]伤害"+this.node.uuid),this.log.log("test_fight","[4:ActorActionManager:hurt:扣血前:受伤]\n        {进攻方标识:"+(null!=(o=null==e?void 0:e.node.uuid)?o:"未知")+",伤害:"+t+",hp:"+(null!=(a=null==e?void 0:e.actorProperty.hp)?a:"未知")+",maxHp:"+(null!=(r=null==e?void 0:e.actorProperty.maxHp)?r:"未知")+",attack:"+(null!=(s=null==e?void 0:e.actorProperty.attack)?s:"未知")+",移动速度:"+(null!=(l=null==e?void 0:e.linearSpeed)?l:"未知")+"}\n        "+(p?"{攻击距离:"+p.attackRange+",视距:"+p.fov+",避距:"+p.vo+"}":"")+"\n        \n        {标识:"+this.node.uuid+",伤害:"+t+",hp:"+this.actorProperty.hp+",maxHp:"+this.actorProperty.maxHp+",attack:"+this.actorProperty.attack+",移动速度:"+this.linearSpeed+"}\n        "+(u?"{攻击距离:"+u.attackRange+",视距:"+u.fov+",避距:"+u.vo+"}":"")+"\n        "),this.currState!=T.ACTION.Die&&(this.actorProperty.hp-=t,this.log.log("test_fight","[4:ActorActionManager:hurt:扣血后]\n            {标识:"+this.node.uuid+",伤害:"+t+",hp:"+this.actorProperty.hp+",maxHp:"+this.actorProperty.maxHp+",attack:"+this.actorProperty.attack+",移动速度:"+this.linearSpeed+"}\n            "+(u?"{攻击距离:"+u.attackRange+",视距:"+u.fov+",避距:"+u.vo+"}":"")),this.actorProperty.hp<=0&&(u?this.onDie():this.scheduleOnce((function(){h.node.name.includes("Wood")?(N.instance.activateTower(T.STATIC_NODE_PATH.Wood_Tower_Destroyed),N.instance.deactivateTower(T.STATIC_NODE_PATH.Wood_Tower)):(N.instance.activateTower(T.STATIC_NODE_PATH.Tower_Destroyed),N.instance.deactivateTower(T.STATIC_NODE_PATH.Tower)),g.isPaused()?g.resume():g.pause()}),.1)))},a.onDie=function(){this.log.log("fight",this.node.name+"死亡"),this.currState!=T.ACTION.Die&&(this.changeState(T.ACTION.Die),this.node.emit(T.ACOTR_EVENT_NAME.onKilled,this))},a.respawn=function(){var t;this.log.log(this.logLevel,"respawn"),null==(t=this.animation)||t.crossFade(T.ACTION.Idle,.1),this.currState=T.ACTION.Idle,this.node.position=new v(0,0,0),this.actorProperty.hp=this.actorProperty.maxHp,this.linearSpeed=this.data.linearSpeed,this.changeAttackSpeed(this.data.attackSpeed);var e=this.node.getComponent(E);if(e&&this.node.children.length>3)for(var i=3;i<this.node.children.length;i++){var n=this.node.children[i];n.name.includes("arrow")&&e.onProjectileDead(n.getComponent(S))}for(var o=0;o<this.buffs.length;o++)this.removeBuff(this.buffs[o].effect.id)},a.changeAttackSpeed=function(t){this.animation&&(this.animation.getState(T.ACTION.Attack).speed=t)},a.addBuff=function(t){var e=this.buffs.find((function(e){return e.effect.id==t.id}));e?e.active||(t.apply(this),e.timerId=t.timerId,e.active=!0,this.updateBuffUI()):(t.apply(this),this.buffs.push({timerId:t.timerId,effect:t,active:!0}),this.updateBuffUI())},a.removeBuff=function(t){var e=this.buffs.find((function(e){return e.effect.id==t}));e&&(clearTimeout(e.timerId),e.timerId=null,e.active=!1,e.effect.remove(this),this.updateBuffUI())},a.updateBuffUI=function(){this.node.children[2].children[0].getComponent(m).string=this.buffs.filter((function(t){return t.active})).map((function(t){return t.effect.name})).join(",")},e}(A)).prototype,"animation",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(b.prototype,"linearSpeed",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),w=b))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/ActorProperty.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"aba65aVptBBQJ3flGCN8XD8","ActorProperty",void 0);t("ActorProperty",(function(){this.maxHp=100,this.hp=this.maxHp,this.attack=10}));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationEventListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(t){var n,e,i,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Component},function(t){r=t.Constant}],execute:function(){var s;e._RF.push({},"a8d63fHosJIi4UytV79YSqW","AnimationEventListener",void 0);var a=i.ccclass;t("AnimationEventListener",a("AnimationEventListener")(s=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.onFrameAttack=function(){var t;null==(t=this.node.parent)||t.emit(r.ACOTR_EVENT_NAME.onFrameAttack)},e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(n){var t,e,i,o,a,s,r,c,u,l,h;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){i=n.cclegacy,o=n._decorator,a=n.director,s=n.resources,r=n.Prefab,c=n.instantiate,u=n.AudioSource,l=n.Component},function(n){h=n.Constant}],execute:function(){var f,g;i._RF.push({},"4d836L0GVhPx5h6god6nLuw","AudioManager",void 0);var d=o.ccclass;n("AudioManager",d("AudioManager")(((g=function(n){function i(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).bgm=null,t.sfx=new Map,t}t(i,n);var o=i.prototype;return o.onLoad=function(){i._instance=this},o.onDestroy=function(){i._instance=null},o.init=function(){var n=a.getScene().getChildByPath(h.STATIC_NODE_PATH.Audio),t=this.sfx;s.loadDir(h.DYNAMIC_RESOURCE.Audio.AllPath,r,(function(e,i){i.forEach((function(e){var i=c(e);n.addChild(i);var o=i.getComponent(u);t.set(e.name,o)}))}))},o.playBgm=function(){if(this.bgm){this.bgm&&this.bgm.stop();var n=this.bgm.node;n.active=!0;var t=n.getComponent(u);this.bgm=t}},o.playSfx=function(n){this.sfx.has(n)&&this.sfx.get(n).play()},o.onBgmVolumeChanged=function(){this.bgm},e(i,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(l))._instance=void 0,f=g))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/AutoActorCon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pools.ts","./logUtil.ts","./PlayerCon.ts","./ActorActionManager.ts","./AnimationEventListener.ts","./ProjectileEmiter.ts","./Constant.ts","./LevelCon.ts","./EffectCon.ts"],(function(e){var t,o,n,r,a,i,c,l,s,u,m,p,f,h,P,g,d,C,v;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e._decorator,a=e.resources,i=e.Prefab,c=e.instantiate,l=e.Label,s=e.Component},function(e){u=e.Pools},function(e){m=e.logUtil},function(e){p=e.PlayerCon,f=e.AttackType},function(e){h=e.ActorActionManager},function(e){P=e.AnimationEventListener},function(e){g=e.ProjectileEmitter},function(e){d=e.Constant},function(e){C=e.LevelCon},function(e){v=e.EffectCon}],execute:function(){var y;n._RF.push({},"41064bTQCpJno/7tXqh0r4C","AutoActorCon",void 0);var A=r.ccclass;e("AutoActorCon",A("AutoActorCon")(y=function(e){function n(t){var o;return(o=e.call(this)||this).log=m.instance,o.logLevel="AutoActorCon",o.regime=void 0,o.enemyPools=new u,o.enemyNames=[],o.enemies=[],o.enemyPath=void 0,o.projectilePath=void 0,o.projectilePrefab=null,o.regime=t,o.regime==d.DYNAMIC_RESOURCE.Actor.Forces1.Regime?(o.enemyPath=d.DYNAMIC_RESOURCE.Actor.Forces1.Path,o.projectilePath=d.DYNAMIC_RESOURCE.Projectile.Forces1.Path):(o.enemyPath=d.DYNAMIC_RESOURCE.Actor.Forces2.Path,o.projectilePath=d.DYNAMIC_RESOURCE.Projectile.Forces2.Path),o}t(n,e);var r=n.prototype;return r.init=function(){var e=this;return new Promise((function(t){e.log.log(e.logLevel,"init"),a.load(e.projectilePath,i,(function(n,r){n?e.log.log1(e.logLevel,d.LOG_CONTENT_LEVEL,e.log.LOG_LEVEL.ERROR,"点击了"+e.regime+"的远程预制体失败",n):(e.projectilePrefab=r,a.loadDir(e.enemyPath,i,(function(n,r){for(var a,i=o(r);!(a=i()).done;){var c=a.value;e.createEnemyPool(c)}t(r)})))})),e.log.log(e.logLevel,"加载结束")}))},r.createEnemyPool=function(e){var t=this;this.enemyNames.push(e.name),this.enemyPools.newPool(e.name,(function(){var o=c(e);o.active=!1;var n=o.addComponent(p);n.actor=o.addComponent(h),o.children[0].addComponent(P),o.children[1].getComponent(l).string=o.uuid;var r=C.instance.getBranchBataByName(e.name);if(n.actor.data=r,n.actor.actorProperty.hp=r.hp,n.actor.actorProperty.maxHp=r.maxHp,n.actor.actorProperty.attack=r.attack,n.actor.linearSpeed=r.linearSpeed,n.attackRange=r.attackRange,n.fov=r.fov,n.vo=r.vo,n.regime=r.regime,n.career=r.career,r.career==f.Range&&!o.getComponent(g)){var a=o.addComponent(g);a.projectile=t.projectilePrefab,a.init(),n.projectileEmitter=a}return o}),1,(function(e){e.removeFromParent()}))},r.createRandomEnemy=function(e,t,o){return this.FixedRole("tnt",e,t,o)},r.clear=function(){this.enemyPools.destroyAll(),this.enemyNames=[],this.enemies=[]},r.FixedRole=function(e,t,o,n){var r=this.enemyPools.allocc(e),a=r.getComponent(p);if(a.destForward=o.worldPosition,a.actor.respawn(),n&&(a.actor.actorProperty.hp+=n.hp,a.actor.actorProperty.attack+=n.attack),this.regime==d.DYNAMIC_RESOURCE.Actor.Forces1.Regime)for(var i=0;i<v.instance.skillList.length;i++){v.instance.skillList[i].isBuff&&a.actor.addBuff(v.instance.skillList[i])}return r.active=!0,t.addChild(r),this.enemies.push(r),this.log.log("fight","生成{节点id:"+r.uuid+",角色:"+e+",位置:"+r.position+",血量:"+a.actor.actorProperty.hp+",攻击力:"+a.actor.actorProperty.attack+"}"),r},n}(s))||y);n._RF.pop()}}}));

System.register("chunks:///_virtual/bingdong.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IEffectContainer.ts"],(function(e){var t,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.Effect}],execute:function(){n._RF.push({},"86880unZbxPgL7sFrvPUdAZ","bingdong",void 0);e("bingdong",function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).logLevel="bingdong",t}t(n,e);var i=n.prototype;return i.apply=function(t){var n=this;e.prototype.apply.call(this,t),console.log("冰冻时长",this.duration[this.level-1]),t.linearSpeed-=this.num[this.level-1],this.timerId=setTimeout((function(){n.remove(t)}),this.duration[this.level-1]+1e3)},i.remove=function(e){var t=this;this.log.log(this.logLevel,"提前终止");var n=e.buffs.find((function(e){return e.effect.id==t.id}));e.linearSpeed=e.data.linearSpeed,null!=n.timerId&&e.removeBuff(n.effect.id)},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/cd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IEffectContainer.ts"],(function(e){var t,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.Trigger}],execute:function(){n._RF.push({},"748c6s/HvVDA6OhU0JbyNNv","cd",void 0);e("cd",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.shouldTrigger=function(e){var t=e.cd[e.level-1];return Date.now()-e.lastUsedTime>=1e3*t},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/CoinCon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./logUtil.ts","./Pools.ts","./CoinManager.ts","./Constant.ts","./AudioManager.ts"],(function(o){var e,n,t,i,r,a,c,l,s,u,p,C,f,h;return{setters:[function(o){e=o.inheritsLoose,n=o.createForOfIteratorHelperLoose},function(o){t=o.cclegacy,i=o._decorator,r=o.resources,a=o.Prefab,c=o.instantiate,l=o.director,s=o.Component},function(o){u=o.logUtil},function(o){p=o.Pools},function(o){C=o.CoinManager},function(o){f=o.Constant},function(o){h=o.AudioManager}],execute:function(){var g;t._RF.push({},"97cbcdJjotKkJe5o83r6Pm1","CoinCon",void 0);var d=i.ccclass;o("CoinCon",d("CoinCon")(g=function(o){function t(e){var n;return(n=o.call(this)||this).log=u.instance,n.logLevel="CoinCon",n.propPath=void 0,n.propPools=new p,n.prefabName="G_Idle",n.scene=void 0,n.scene=l.getScene(),n.propPath=e,n}e(t,o);var i=t.prototype;return i.init=function(){var o=this;return new Promise((function(e){r.loadDir(o.propPath,a,(function(t,i){for(var r,a=n(i);!(r=a()).done;){var c=r.value;o.createPropPool(c)}e(i)})),o.log.log(o.logLevel,"加载结束")}))},i.createPropPool=function(o){this.propPools.newPool(o.name,(function(){var e=c(o);return e.addComponent(C),e.active=!1,e}),1,(function(o){o.removeFromParent()}))},i.createCoin=function(o){var e=this.propPools.allocc(this.prefabName);e.active=!0,e.getComponent(C).coinProperty.isCollectible=!0,e.setPosition(o.position),o.parent.addChild(e),e.once(f.EVENT_NAME.onCoinCollect,this.onCoinCollect,this),h.instance.playSfx(f.DYNAMIC_RESOURCE.Audio.AudioName.SfxOther003),this.log.log(this.logLevel,"createCoin")},i.onCoinCollect=function(o){var e=this;this.log.log(this.logLevel,"onCoinCollect"),this.log.log("fight","自动拾取2"),this.scheduleOnce((function(){h.instance.playSfx(f.DYNAMIC_RESOURCE.Audio.AudioName.SfxOther002);var n=o.getComponent(C).coinProperty;n.isCollectible=!1,n.dropTime=0,o.active=!1,e.propPools.free(e.prefabName,o),e.scene.getChildByPath(f.STATIC_NODE_PATH.UIGame).emit(f.EVENT_NAME.onResourceUpdate,0,1,!1)}),.1)},t}(s))||g);t._RF.pop()}}}));

System.register("chunks:///_virtual/CoinManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./logUtil.ts"],(function(t){var o,i,n,e,r,s;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,e=t.Component},function(t){r=t.Constant},function(t){s=t.logUtil}],execute:function(){var c;i._RF.push({},"ea0f60M/slNpIKAUPFsm7A5","CoinManager",void 0);var a=n.ccclass,l=t("coinProperty",(function(){this.amount=1,this.dropTime=0,this.liftTime=r.GAME_SET.CoinliftTime,this.isCollectible=!1,this.position=void 0}));t("CoinManager",a("CoinManager")(c=function(t){function i(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this).coinProperty=new l,o.log=s.instance,o.logLevel="CoinManager",o}o(i,t);var n=i.prototype;return n.fire=function(){this.coinProperty.dropTime=0},n.update=function(t){this.coinProperty.dropTime+=t,this.coinProperty.dropTime>=this.coinProperty.liftTime&&(this.log.log("fight","自动拾取1"),this.node.emit(r.EVENT_NAME.onCoinCollect,this.node))},i}(e))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/Constant.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"e7299SSTJpM/6hp+oUFXXcs","Constant",void 0);var t=e("Constant",(function(){}));t.LOG_CONTENT_LEVEL="test_fight",t.LOG_ALL_LABEL="all",t.GAME_SET={RandomBuffNum:3,CoinliftTime:2,MaxAlive:10,InitGSpawn:15,InitMSpawn:10,InitWSpawn:10},t.HURT_TYPE={Buff:"buff",Attack:"attack",SelfHit:"自残"},t.ACTION={Idle:"idle",Attack:"attack",Run:"run",Hit:"hit",Die:"die"},t.EFFECT={Explosion:"explosion",Fire:"fire",GSpawn:"g_spawn",MSpawn:"m_spawn",WSpawn:"w_spawn"},t.EVENT_NAME={onBgmVolumeChanged:"onBgmVolumeChanged",onProjectileDead:"onProjectileDead",onCoinCollect:"onCoinCollect",onBranchCreate:"onBranchCreate",onResourceUpdate:"onResourceUpdate"},t.ACOTR_EVENT_NAME={onHurt:"hurt",onKilled:"killed",onFrameAttack:"onFrameAttack"},t.STATIC_NODE_PATH={Left:"Canvas/UIGame/spawn/left",Wood_Tower:"Canvas/UIGame/spawn/right/Wood_Tower",Wood_Tower_Destroyed:"Canvas/UIGame/spawn/right/Wood_Tower_Destroyed",Right:"Canvas/UIGame/spawn/right",Tower:"Canvas/UIGame/spawn/left/Tower",Tower_Destroyed:"Canvas/UIGame/spawn/left/Tower_Destroyed",Audio:"Canvas/UIGame/audio",Resource:"Canvas/UIGame/ui/UIResource",UIGame:"Canvas/UIGame",UI:"Canvas/UIGame/ui",UIBuffGot:"Canvas/UIGame/ui/UIBuffGot/layout",UIBranchChoose:"Canvas/UIGame/ui/UIBranchChoose/layout"},t.DIALOG_DEF={UIBuff:"UIBuff",UIShowTxt:"UIShowTxt"},t.DYNAMIC_RESOURCE={Actor:{Forces1:{Regime:"left",Path:"model/actor"},Forces2:{Regime:"right",Path:"model/actor2"}},Audio:{AllPath:"audio/sfx/",AudioName:{SfxHit001:"SfxHit-剑盾",SfxHit002:"SfxHit-弓",SfxHit003:"SfxHit-金属",SfxHit004:"SfxHit-魔法",SfxOther001:"SfxOther-匹配成功",SfxOther002:"SfxOther-获得金币",SfxOther003:"SfxOther-金币掉落",SfxShot001:"SfxShot-剑",SfxShot002:"SfxShot-弓",SfxShot003:"SfxShot-枪械"}},Prop:{Path:"model/prop"},Projectile:{Forces1:{Path:"model/projectile/arrow"},Forces2:{Path:"model/projectile/arrow-001"}},Data:{BranchPicPath:"ui/art/iconset",BranchJsonPath:"data/actor",BuffPicPath:"ui/art/iconset",BuffJsonPath:"data/effect"},UiDialog:{Path:"ui/dialog/"}},a._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/EffectCon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./logUtil.ts","./zhuoshao.ts","./zengshang.ts","./bingdong.ts","./LevelCon.ts"],(function(n){var t,i,e,s,o,l,c,a,r,u;return{setters:[function(n){t=n.inheritsLoose,i=n.createClass},function(n){e=n.cclegacy,s=n._decorator,o=n.Component},function(n){l=n.logUtil},function(n){c=n.zhuoshao},function(n){a=n.zengshang},function(n){r=n.bingdong},function(n){u=n.LevelCon}],execute:function(){var h,f;e._RF.push({},"46f23av7AhAAKny44qdVGEj","EffectCon",void 0);var g=s.ccclass;n("EffectCon",g("EffectCon")(((f=function(n){function e(t){var i;return(i=n.call(this)||this).InitJson=void 0,i.skillList=[],i.skillChoiceList=[],i.log=l.instance,i.logLevel="EffectCon",i.InitJson=t,i.skillChoiceList=t,i}t(e,n);var s=e.prototype;return s.matchingSkill=function(n){var t;switch(n.class){case"zhuoshao":t=new c(n);break;case"zengshang":t=new a(n);break;case"bingdong":t=new r(n);break;default:t=null}return t&&this.addSkillList(t),t},s.addSkillList=function(n){var t=this.skillList.find((function(t){return t.id==n.id}));console.log("addSkillList"),t?(t.level++,n=t):this.skillList.push(n),n.level==n.levelMax&&(this.skillChoiceList=this.skillChoiceList.filter((function(t){return t.id!=n.id})))},s.getRandomObjs=function(n){var t=this.skillChoiceList;if(0==t.length)return console.log("没有可供选择的对象"),[];if(t.length<n)return console.log("可供选择的对象数不足"),t;for(var i=t.concat(),e=[];e.length<n&&0!=i.length;){var s=Math.floor(Math.random()*i.length),o=i[s];e.push(o),i.splice(s,1)}return e},i(e,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new e(u.instance.BuffJson)),this._instance}}]),e}(o))._instance=void 0,h=f))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./actor.ts"],(function(e){var n,t,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){c=e.actor}],execute:function(){t._RF.push({},"bf3edRAcclKUY9r7kpC2jFP","enemy",void 0);e("enemy",function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(c));t._RF.pop()}}}));

System.register("chunks:///_virtual/Equipment.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"1eb3baOdHpCZK+/ZqA9uQ+X","Equipment",void 0);n("Equipment",function(){function n(){}var t=n.prototype;return t.equip=function(){},t.unequip=function(){},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/IEffectContainer.ts",["cc","./logUtil.ts","./Util.ts"],(function(i){var t,s,o;return{setters:[function(i){t=i.cclegacy},function(i){s=i.logUtil},function(i){o=i.Util}],execute:function(){t._RF.push({},"3d7bfxCa2xPmZ5SVgGpuIzY","IEffectContainer",void 0);i("Effect",function(){function i(i){this.level=1,this.id=void 0,this.name=void 0,this.iconIndex=void 0,this.iconPath=void 0,this.description=void 0,this.lastUsedTime=void 0,this.version=void 0,this.num=void 0,this.isBuff=void 0,this.class=void 0,this.duration=void 0,this.damPerS=void 0,this.levelMax=void 0,this.attackUp=void 0,this.timerId=void 0,this.log=s.instance,this.logLevel="Effect",this.id=i.id,this.name=i.name,this.iconIndex=i.iconIndex,this.iconPath=i.iconPath,this.description=i.description,this.lastUsedTime=i.lastUsedTime,this.version=i.version,this.duration=o._stringToArrayByComma(i.duration,1e3),this.damPerS=o._stringToArrayByComma(i.damPerS),this.isBuff="0"!=i.isBuff,this.class=i.class,this.attackUp=o._stringToArrayByComma(i.attackUp),this.num=o._stringToArrayByComma(i.num),this.levelMax=i.levelMax}var t=i.prototype;return t.apply=function(i){this.log.log("Effect","使用了"+this.logLevel+"的"+this.level+"等级的技能")},t.remove=function(i){},i}()),i("Trigger",function(){function i(){}return i.prototype.shouldTrigger=function(i){return!1},i}());t._RF.pop()}}}));

System.register("chunks:///_virtual/IEquipment.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"59f4242RCZHhoM3dQImoALE","IEquipment",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IHero.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"7ca93jucpVNe7sz6OuNkiNa","IHero",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IItem.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"744e3JLsiNNoroRbQM4JNer","IItem",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IRune.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"dd22dWfBWZKMIQBfYSmswv4","IRune",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ISkill.ts",["cc"],(function(){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"cac94gHSBpIL5IkA2dhsElE","ISkill",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/Item.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"6fadadRmExFNZ4uPpqf5HHb","Item",void 0);t("Item",function(){function t(){}return t.prototype.use=function(){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/junit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./logUtil.ts"],(function(n){var o,t,i,e,c,l,u,r,s;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){c=n.cclegacy,l=n._decorator,u=n.Node,r=n.Component},function(n){s=n.logUtil}],execute:function(){var a,f,g,p,h;c._RF.push({},"be9f5GVQ75JBplrLDsSaUtL","junit",void 0);var d=l.ccclass,v=l.property;n("junitTs",(a=d("junitTs"),f=v(u),a((h=o((p=function(n){function o(){for(var o,t=arguments.length,c=new Array(t),l=0;l<t;l++)c[l]=arguments[l];return(o=n.call.apply(n,[this].concat(c))||this).灼烧=void 0,i(o,"灼烧对象",h,e(o)),o.count=0,o}t(o,n);var c=o.prototype;return c.egMin=function(){console.log("1")},c.egMax=function(){console.log("--------------------Start--------------------"),console.log("--------------------Deal--------------------"),console.log("--------------------Done--------------------")},c.onLoad=function(){},c.start=function(){},c.update=function(n){},c.zhuoshao_egMin=function(){},c.stop灼烧=function(){this.灼烧.remove(null)},c.每秒定时器schedule测试_egMin_失败=function(){var n=this;this.schedule((function(){n.callback()}),3,3,0)},c.callback=function(){this.count++,console.log("每秒执行",this.count)},c.stopSpawning=function(){console.log("点击事件"),this.unschedule(this.callback())},c.二维动画控制_egMin=function(){},c.logUtil_egMin=function(){var n="你妈妈的温",o=s.instance;o.log("less",""+n),o.log("Coin",n+"+1")},o}(r)).prototype,"灼烧对象",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=p))||g));c._RF.pop()}}}));

System.register("chunks:///_virtual/LevelCon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./logUtil.ts","./AutoActorCon.ts","./CoinCon.ts","./AudioManager.ts","./ResourceUtil.ts","./UIBuffGot.ts","./UIBranchChoose.ts","./ActorActionManager.ts","./UiManager.ts","./PlayerCon.ts","./ActorProperty.ts","./EffectCon.ts"],(function(t){var e,n,o,i,s,a,r,c,h,l,u,f,A,C,g,T,p,d,_,E,v,S,B,P,m,w,y,D,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createClass,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){c=t.cclegacy,h=t._decorator,l=t.Node,u=t.director,f=t.PhysicsSystem2D,A=t.macro,C=t.Component,g=t.SpriteAtlas,T=t.JsonAsset},function(t){p=t.Constant},function(t){d=t.logUtil},function(t){_=t.AutoActorCon},function(t){E=t.CoinCon},function(t){v=t.AudioManager},function(t){S=t.ResourceUtil},function(t){B=t.UIBuffGot},function(t){P=t.UIBranchChoose},function(t){m=t.ActorActionManager},function(t){w=t.UiManager},function(t){y=t.PlayerCon},function(t){D=t.ActorProperty},function(t){I=t.EffectCon}],execute:function(){var N,R,M,U,O,L,G,J;c._RF.push({},"9f145lhtnJNAagLrAc0fzuC","LevelCon",void 0);var H=h.ccclass,F=h.property;t("LevelCon",(N=H("LevelCon"),R=F(l),M=F(l),N(((J=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,o(e,"spawnNode",L,i(e)),o(e,"destNode",G,i(e)),e.log=d.instance,e.logLevel="LevelCon",e.forces1AutoActorCon=null,e.forces2AutoActorCon=null,e.coinCon=null,e.test_maxAlive=p.GAME_SET.MaxAlive,e.BranchJsonPath=p.DYNAMIC_RESOURCE.Data.BranchJsonPath,e.BranchJson=void 0,e.BuffJsonPath=p.DYNAMIC_RESOURCE.Data.BuffJsonPath,e.BuffJson=void 0,e.BuffPicPath=p.DYNAMIC_RESOURCE.Data.BuffPicPath,e.BuffPlist=void 0,e.scene=void 0,e.GSpawn=p.GAME_SET.InitGSpawn,e.MSpawn=p.GAME_SET.InitMSpawn,e.WSpawn=p.GAME_SET.InitWSpawn,e.stage=0,e}n(e,t);var c=e.prototype;return c.onLoad=function(){this.scene=u.getScene(),this.log.log(this.logLevel,"onLoad"),f.instance.enable=!0,this.init(),this.node.on(p.EVENT_NAME.onBranchCreate,this.onBranchCreate,this)},c.onEnable=function(){this.log.log(this.logLevel,"onEnable")},c.start=function(){this.log.log(this.logLevel,"start")},c.restartGame=function(){this.GSpawn=p.GAME_SET.InitGSpawn,this.MSpawn=p.GAME_SET.InitMSpawn,this.WSpawn=p.GAME_SET.InitWSpawn,this.activateTower(p.STATIC_NODE_PATH.Tower,100),this.deactivateTower(p.STATIC_NODE_PATH.Tower_Destroyed),this.activateTower(p.STATIC_NODE_PATH.Wood_Tower,100),this.deactivateTower(p.STATIC_NODE_PATH.Wood_Tower_Destroyed),I.instance.skillChoiceList=this.BuffJson,I.instance.skillList=[],this.onBuffUpdate(),this.deactivateFight(p.STATIC_NODE_PATH.Left),this.deactivateFight(p.STATIC_NODE_PATH.Right),this.forces1AutoActorCon.enemies=[],this.forces2AutoActorCon.enemies=[],this.forces1AutoActorCon.enemies.push(this.scene.getChildByPath(p.STATIC_NODE_PATH.Tower)),this.forces2AutoActorCon.enemies.push(this.scene.getChildByPath(p.STATIC_NODE_PATH.Wood_Tower)),u.isPaused()&&u.resume()},c.activateTower=function(t,e){var n=this.scene.getChildByPath(t);n.active=!0,e&&(n.getComponent(m).actorProperty.hp=e)},c.deactivateTower=function(t){this.scene.getChildByPath(t).active=!1},c.deactivateFight=function(t){var e=this.scene.getChildByPath(t).children;if(e.length>2)for(var n=2;n<e.length;n++){var o=e[n].getComponent(y);o?(o.regime==p.DYNAMIC_RESOURCE.Actor.Forces1.Regime?this.forces1AutoActorCon.enemyPools.free(e[n].name,e[n]):this.forces2AutoActorCon.enemyPools.free(e[n].name,e[n]),o.actor.respawn()):this.coinCon.propPools.free(e[n].name,e[n]),e[n].active=!1}},c.onDestroy=function(){this.log.log(this.logLevel,"onDestroy"),this.node.off(p.EVENT_NAME.onBranchCreate,this.onBranchCreate,this)},c.init=function(){var t=a(r().mark((function t(){var e=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.coinCon=new E(p.DYNAMIC_RESOURCE.Prop.Path),this.coinCon.init(),v.instance.init(),S.loadResType(this.BranchJsonPath,T).then((function(t){e.BranchJson=t.json.RECORDS})),this.log.log("test_time","BranchJson时间记录"),this.log.log("buff_test","1.加载"+this.logLevel),t.next=8,S.loadResType(this.BuffJsonPath,T).then((function(t){e.BuffJson=t.json.RECORDS}));case 8:return this.log.log("test_time","BuffJson时间记录"),I.instance,this.forces1AutoActorCon=new _(p.DYNAMIC_RESOURCE.Actor.Forces1.Regime),this.forces1AutoActorCon.init(),this.forces2AutoActorCon=new _(p.DYNAMIC_RESOURCE.Actor.Forces2.Regime),this.forces2AutoActorCon.init(),this.log.log("test_time","小兵预制体*2时间记录"),t.next=17,S.loadResType(this.BuffPicPath,g);case 17:this.BuffPlist=t.sent,this.log.log("test_time","图集时间记录"),this.startSpawnTimer(),this.scene.getChildByPath(p.STATIC_NODE_PATH.UIBuffGot).getComponent(B).init(),this.scene.getChildByPath(p.STATIC_NODE_PATH.UIBranchChoose).getComponent(P).init();case 22:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.startSpawnTimer=function(){var t=this;this.log.log(this.logLevel,"startSpawnTimer"),this.forces1AutoActorCon.enemies.push(this.scene.getChildByPath(p.STATIC_NODE_PATH.Tower)),this.forces2AutoActorCon.enemies.push(this.scene.getChildByPath(p.STATIC_NODE_PATH.Wood_Tower));var e=0;this.schedule((function(){e++}),50,A.REPEAT_FOREVER,50),this.schedule((function(){t.randomSpawn(e)}),7,100,0)},c.onBranchCreate=function(t){this.log.log(this.logLevel,"生成了"+t);var e=this.getBranchBataByName(t).cost;e>this.GSpawn?(this.log.log(this.logLevel,"资源不足"),w.instance.showDialog(p.DIALOG_DEF.UIShowTxt)):(this.node.emit(p.EVENT_NAME.onResourceUpdate,0,e,!0),this.forces1AutoActorCon.FixedRole(t,this.spawnNode,this.destNode))},c.getBranchBataByName=function(t){for(var e,n=0;n<this.BranchJson.length;n++)if((e=this.BranchJson[n]).name==t)return e},c.randomSpawn=function(t){var e=this.forces1AutoActorCon.enemies.filter((function(t){return t.active})),n=this.forces2AutoActorCon.enemies.filter((function(t){return t.active}));if(!(e.length+n.length>=this.test_maxAlive)){var o=new D;o.attack=1*t,o.hp=10*t,console.log("加强",t),this.forces2AutoActorCon.createRandomEnemy(this.destNode,this.spawnNode,o)}},c.gainBuff=function(t,e){I.instance.matchingSkill(e),w.instance.hideDialog(p.DIALOG_DEF.UIBuff),this.onBuffUpdate()},c.onBuffUpdate=function(){u.getScene().getChildByPath(p.STATIC_NODE_PATH.UIBuffGot).getComponent(B).show()},s(e,null,[{key:"instance",get:function(){return null==this._instance&&(this.scene=u.getScene(),this._instance=this.scene.getChildByPath(p.STATIC_NODE_PATH.UIGame).getComponent(e)),this._instance}}]),e}(C))._instance=void 0,J.scene=void 0,L=e((O=J).prototype,"spawnNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(O.prototype,"destNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=O))||U));c._RF.pop()}}}));

System.register("chunks:///_virtual/logUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts"],(function(n){var t,e,o;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){o=n.Constant}],execute:function(){e._RF.push({},"a045bIWFZ1AWIsstCgj2HvT","logUtil",void 0),n("logUtil",function(){function n(){this.LOG_LEVEL={TRACE:"trace",LOG:"log",INFO:"info",WARN:"warn",ERROR:"error"}}var e=n.prototype;return e.log1=function(n,t,e){for(var i=arguments.length,s=new Array(i>3?i-3:0),l=3;l<i;l++)s[l-3]=arguments[l];var r,c;t!=o.LOG_ALL_LABEL?t.includes(n)&&(r=console)[e].apply(r,s):(c=console)[e].apply(c,s)},e.log=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];this.log1.apply(this,[n,o.LOG_CONTENT_LEVEL,this.LOG_LEVEL.LOG,n].concat(e))},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./actor.ts","./enemy.ts","./player.ts","./junit.ts","./Constant.ts","./AutoActorCon.ts","./CoinCon.ts","./EffectCon.ts","./LevelCon.ts","./PlayerCon.ts","./ActorProperty.ts","./Projectile.ts","./ProjectileEmiter.ts","./ProjectileProperty.ts","./IEquipment.ts","./IHero.ts","./IItem.ts","./IRune.ts","./ISkill.ts","./Equipment.ts","./Item.ts","./Pools.ts","./Rune.ts","./Skill.ts","./%E7%9E%92%E5%A4%A9%E4%B9%90%E6%B8%B8_%E6%9B%99%E5%BD%B1_%E5%BF%85%E6%9D%80%E6%8A%80.ts","./IEffectContainer.ts","./bingdong.ts","./shiting.ts","./test.ts","./wudi.ts","./yingshi.ts","./zengshang.ts","./zhuoshao.ts","./cd.ts","./AnimationEventListener.ts","./ActorActionManager.ts","./AudioManager.ts","./CoinManager.ts","./UiManager.ts","./ResourceUtil.ts","./Util.ts","./logUtil.ts","./UIGame.ts","./UILayoutBtn.ts","./UiDialog.ts","./UIBuff.ts","./UIShowTxt.ts","./UIBranchChoose.ts","./UIBuffChoose.ts","./UIBuffGot.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./actor.ts"],(function(t){var r,e,i;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.actor}],execute:function(){e._RF.push({},"6f967g9J1JGC5frX8mv1UJZ","player",void 0);t("player",function(t){function e(){for(var r,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(r=t.call.apply(t,[this].concat(i))||this).attackPower=void 0,r.starRingDuration=void 0,r.starRingEnergy=void 0,r.isStarRingActive=void 0,r.lastUltimateUsedTime=void 0,r}return r(e,t),e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerCon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./ActorActionManager.ts","./logUtil.ts","./LevelCon.ts","./AudioManager.ts"],(function(t){var e,o,i,n,r,s,a,c,l,h,d,u,g,f,v,A,m,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,a=t._decorator,c=t.ccenum,l=t.CCFloat,h=t.UITransform,d=t.Vec3,u=t.v3,g=t.Component},function(t){f=t.Constant},function(t){v=t.ActorActionManager},function(t){A=t.logUtil},function(t){m=t.LevelCon},function(t){R=t.AudioManager}],execute:function(){var C,p,P,w,E,y,k,F,T,O,b;s._RF.push({},"fd02bFZu39Oubi1G3kDe/2Z","PlayerCon",void 0);var N=a.ccclass,_=a.property,I=t("AttackType",function(t){return t[t.Melee=0]="Melee",t[t.Range=1]="Range",t[t.Blaster=2]="Blaster",t}({}));c(I);t("PlayerCon",(C=N("PlayerCon"),p=_(l),P=_(l),w=_(l),E=_({type:I}),C((F=e((k=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).actor=null,e.log=A.instance,e.logLevel="PlayerCon",e.destForward=void 0,e.target=null,i(e,"attackRange",F,n(e)),i(e,"fov",T,n(e)),i(e,"vo",O,n(e)),e.regime=void 0,i(e,"career",b,n(e)),e.projectileEmitter=void 0,e}o(e,t);var s=e.prototype;return s.start=function(){this.log.log(this.logLevel,"start");var t=this.node.getComponent(h).width;this.fov+=t/2,this.attackRange+=t/2,this.node.on(f.ACOTR_EVENT_NAME.onKilled,this.onKilled,this),this.node.on(f.ACOTR_EVENT_NAME.onFrameAttack,this.onFrameAttack,this)},s.update=function(t){this.executeAI()},s.onDestroy=function(){this.log.log(this.logLevel,"onDestroy"),this.node.off(f.ACOTR_EVENT_NAME.onKilled,this.onKilled,this),this.node.off(f.ACOTR_EVENT_NAME.onFrameAttack,this.onFrameAttack,this)},s.executeAI=function(){this.log.log(this.logLevel,this.node.uuid+"节点数据{\n            fov:"+this.fov+",attackRange:"+this.attackRange+",vo:"+this.vo+",\n            worldPosition:"+this.node.worldPosition+",阵营:"+this.regime+"}"),this.checkAndAttack()||this.moveToEndPoint()},s.getNeareastEnemy=function(){var t=this.discoverUnitsInRange(this.findEnemies(),this.fov);return t?(this.target=t.getComponent(v),this.log.log(this.logLevel,"getNeareastEnemy "+this.node.uuid+"找到敌人"+t.uuid),t):(this.log.log(this.logLevel,"getNeareastEnemy "+this.node.uuid+"未找到敌人"),null)},s.checkAndAttack=function(){var t=this.getNeareastEnemy();if(t){var e=d.distance(this.node.worldPosition,t.worldPosition);if(!(e>this.fov))return e<=this.attackRange?(this.actor.changeState(f.ACTION.Attack),!0):(this.log.log("ORCA",this.logLevel+1+"追击{\n                    节点id:"+this.node.uuid+",距离:"+e+",\n                    enemy:"+t.worldPosition+",node:"+this.node.worldPosition+",\n                }"),this.ORCA()&&(this.log.log("ORCA","无需避障进攻敌人{节点id:"+this.node.uuid+",距离:"+e+",}"),d.subtract(this.actor.destForward,t.worldPosition,this.node.worldPosition),this.actor.destForward.normalize(),this.actor.changeState(f.ACTION.Run)),!0)}return!1},s.ORCA=function(){if(this.discoverUnitsInRange(this.findAllies(),this.attackRange)){var t=this.regime==f.DYNAMIC_RESOURCE.Actor.Forces1.Regime?this.vo:-this.vo,e=u(this.node.worldPosition.x+t,(this.node.worldPosition.y+this.vo)*(Math.random()<.5?-1:1),this.node.worldPosition.z);return d.subtract(this.actor.destForward,e,this.node.worldPosition),this.actor.destForward.normalize(),this.log.log("ORCA",this.logLevel+2+"开始避障{\n            节点id:"+this.node.uuid+",目标方向:"+this.actor.destForward+"\n            fov:"+this.fov+",attackRange:"+this.attackRange+",vo:"+this.vo+"\n            }"),this.actor.changeState(f.ACTION.Run),!1}return!0},s.moveToEndPoint=function(){this.log.log(this.logLevel,"moveToEndPoint 下当前x位置:"+this.node.worldPosition.x+","+this.destForward.x),d.subtract(this.actor.destForward,this.destForward,this.node.worldPosition),this.actor.destForward.normalize(),this.actor.changeState(f.ACTION.Run)},s.onFrameAttack=function(){switch(this.log.log("fight",this.node.name+this.node.uuid+"触发攻击动画帧"),R.instance.playSfx(this.actor.data.attackSfx),this.career){case I.Range:var t=this.projectileEmitter.create();t.node.worldPosition=this.node.worldPosition,t.target=this.target.node,t.host=this.node,t.fire();break;case I.Blaster:this.target.hurt(this.actor.actorProperty.attack,this.actor,f.HURT_TYPE.Attack),this.actor.hurt(this.actor.actorProperty.hp,this.actor,f.HURT_TYPE.SelfHit);break;default:this.target.hurt(this.actor.actorProperty.attack,this.actor,f.HURT_TYPE.Attack)}},s.findEnemies=function(){var t,e;return this.regime==f.DYNAMIC_RESOURCE.Actor.Forces1.Regime?null==(t=m.instance.forces2AutoActorCon)?void 0:t.enemies:null==(e=m.instance.forces1AutoActorCon)?void 0:e.enemies},s.findAllies=function(){var t,e;return this.regime==f.DYNAMIC_RESOURCE.Actor.Forces1.Regime?null==(t=m.instance.forces1AutoActorCon)?void 0:t.enemies:null==(e=m.instance.forces2AutoActorCon)?void 0:e.enemies},s.discoverUnitsInRange=function(t,e){this.log.log(this.logLevel,"discoverUnitsInRange "+this.node.uuid+"搜索最近的单位");var o=null;if(!t||0==(null==t?void 0:t.length))return this.log.log(this.logLevel,"discoverUnitsInRange "+this.node.uuid+"单位群体未初始化"),null;for(var i,n=1300,s=r(t);!(i=s()).done;){var a=i.value;if(1==a.active&&a.uuid!=this.node.uuid){var c=d.distance(this.node.worldPosition,a.worldPosition);c<e&&n>c&&(n=c,o=a)}}return o},s.onKilled=function(){var t=this;this.scheduleOnce((function(){var e,o;t.regime==f.DYNAMIC_RESOURCE.Actor.Forces1.Regime?null==(e=m.instance.forces1AutoActorCon)||e.enemyPools.free(t.node.name,t.node):(null==(o=m.instance.forces2AutoActorCon)||o.enemyPools.free(t.node.name,t.node),m.instance.coinCon.createCoin(t.node));var i=t.findAllies();i.splice(i.indexOf(t.node),1),t.node.active=!1}),.1)},e}(g)).prototype,"attackRange",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),T=e(k.prototype,"fov",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),O=e(k.prototype,"vo",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),b=e(k.prototype,"career",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.Melee}}),y=k))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/Pools.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,r,s;return{setters:[function(o){t=o.createForOfIteratorHelperLoose},function(o){e=o.cclegacy,r=o._decorator,s=o.Pool}],execute:function(){var n;e._RF.push({},"743c8d8zGdMFLc5wcPz0W+v","Pools",void 0);var l=r.ccclass;o("Pools",l("Pools")(n=function(){function o(){this.pools=new Map}var e=o.prototype;return e.pool=function(o){return this.pools.get(o)},e.newPool=function(o,t,e,r){var n=new s(t,e,r);this.pools.set(o,n)},e.allocc=function(o){return this.pool(o).alloc()},e.free=function(o,t){this.pool(o).free(t)},e.destory=function(o){this.pool(o).destroy()},e.destroyAll=function(){for(var o,e=t(this.pools.values());!(o=e()).done;){o.value.destroy()}this.pools.clear()},o}())||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/Projectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./ProjectileProperty.ts","./logUtil.ts"],(function(t){var e,i,o,r,n,s,l,a,c,d,h,p,u,g,y,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,l=t.Vec2,a=t.CCFloat,c=t.v3,d=t.RigidBody2D,h=t.Collider2D,p=t.Vec3,u=t.math,g=t.Component},function(t){y=t.Constant},function(t){f=t.ProjectileProperty},function(t){m=t.logUtil}],execute:function(){var P,v,j,w,F;n._RF.push({},"3d83d2FKN1LDbDkjsvIir2Y","Projectile",void 0);var b=s.ccclass,C=s.property,D=new l;t("Projectile",(P=b("Projectile"),v=C(a),P((F=e((w=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).collider=null,e.rigidbody=null,e.startTime=0,e.projectProperty=new f,e.host=null,e.target=null,e.destForward=c(),e.log=m.instance,e.logLevel="Projectile",o(e,"linearSpeed",F,r(e)),e}i(e,t);var n=e.prototype;return n.start=function(){this.rigidbody=this.node.getComponent(d),this.collider=this.node.getComponent(h)},n.fire=function(){this.startTime=0,p.subtract(this.destForward,this.target.worldPosition,this.node.worldPosition),this.destForward.normalize()},n.update=function(t){this.startTime+=t,this.startTime>=this.projectProperty.liftTime&&(this.log.log(this.logLevel,"定时消失"),this.node.emit(y.EVENT_NAME.onProjectileDead,this)),this.doMove()},n.doMove=function(){var t=this.linearSpeed*this.destForward.length();D.x=u.clamp(this.destForward.x,-1,1)*t,D.y=u.clamp(this.destForward.y,-1,1)*t,this.log.log("ORCA",this.logLevel+3+"移动预测{\n            节点id:"+this.node.uuid+",\n            刚体速度:"+D+",\n            目标方向:"+this.destForward+",\n        }"),this.rigidbody.linearVelocity=D},n.onTriggerEnter=function(t,e){this.log.log(this.logLevel,"碰撞行为{发起者:"+this.host.name+",self:"+t.node.name+",other:"+e.node.name+"}"),this.projectProperty.penetration--,this.projectProperty.penetration<=0&&this.node.emit(y.EVENT_NAME.onProjectileDead,this)},e}(g)).prototype,"linearSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=w))||j));n._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileEmiter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./Projectile.ts","./logUtil.ts","./Pools.ts"],(function(e){var t,o,i,n,r,l,a,c,s,u,f,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Prefab,c=e.instantiate,s=e.Component},function(e){u=e.Constant},function(e){f=e.Projectile},function(e){p=e.logUtil},function(e){h=e.Pools}],execute:function(){var P,d,v,g,m;r._RF.push({},"ad563gyVdJBA7hP53BnMFaJ","ProjectileEmiter",void 0);var j=l.ccclass,b=l.property;e("ProjectileEmitter",(P=j("ProjectileEmitter"),d=b(a),P((m=t((g=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"projectile",m,n(t)),t.prefabPool=new h,t.log=p.instance,t.logLevel="ProjectileEmitter",t.prefabName="projectile",t}o(t,e);var r=t.prototype;return r.init=function(){var e=this;this.prefabPool.newPool(this.prefabName,(function(){var t=c(e.projectile);return t.active=!1,t}),1,(function(e){e.removeFromParent()}))},r.onDestroy=function(){this.prefabPool.destroyAll()},r.create=function(){this.log.log(this.logLevel,this.node.name+"create");var e=this.prefabPool.allocc(this.prefabName);return this.node.addChild(e),e.active=!0,e.once(u.EVENT_NAME.onProjectileDead,this.onProjectileDead,this),e.getComponent(f)},r.onProjectileDead=function(e){var t=this;this.log.log(this.logLevel,this.node.name+"onProjectileDead"),this.scheduleOnce((function(){e.node.active=!1,t.prefabPool.free(t.prefabName,e.node)}),.1)},t}(s)).prototype,"projectile",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileProperty.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b08ceM+i2BBa6mnLJ7oELWE","ProjectileProperty",void 0);e("ProjectileProperty",(function(){this.penetration=1,this.liftTime=3,this.chase=!1}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceUtil.ts",["cc","./Constant.ts"],(function(n){var e,t,o,r,i,c,u;return{setters:[function(n){e=n.cclegacy,t=n._decorator,o=n.resources,r=n.error,i=n.Prefab,c=n.instantiate},function(n){u=n.Constant}],execute:function(){var s;e._RF.push({},"c4e207OqutFgL/WnQdSr7jP","ResourceUtil",void 0);var a=t.ccclass;n("ResourceUtil",a("ResourceUtil")(s=function(){function n(){}return n.loadRes=function(n,e,t){console.log("loadRes"),o.load(n,(function(n,e){if(n)return r(n.message||n),void t(n,e);t&&t(null,e)}))},n.loadResType=function(n,e){return new Promise((function(t,i){o.load(n,e,(function(n,e){if(n)return r(n.message||n),void i(n);t(e)}))}))},n.loadResDirType=function(n,e){return new Promise((function(t,i){o.loadDir(n,e,(function(n,e){if(n)return r(n.message||n),void i(n);t(e)}))}))},n.createUI=function(n,e){this.loadRes(u.DYNAMIC_RESOURCE.UiDialog.Path+n,i,(function(n,t){if(!n){var o=c(t);e&&e(null,o)}}))},n}())||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/Rune.ts",["cc"],(function(n){var u;return{setters:[function(n){u=n.cclegacy}],execute:function(){u._RF.push({},"849d2shKD9K0pCd2VMQG697","Rune",void 0);n("Rune",function(){function n(){}var u=n.prototype;return u.equip=function(){},u.unequip=function(){},n}());u._RF.pop()}}}));

System.register("chunks:///_virtual/shiting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IEffectContainer.ts","./logUtil.ts"],(function(t){var i,n,e,o;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.Effect},function(t){o=t.logUtil}],execute:function(){n._RF.push({},"3e5aeDoT6xD0qMaP9JcdUWq","shiting",void 0);t("shiting",function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var e=n.prototype;return e.apply=function(t){o.instance.log("test002","时停开始"),this.timerId=setTimeout((function(){o.instance.log("test002","时停结束")}),this.duration)},e.remove=function(t){o.instance.log("test002","时停终止"),clearTimeout(this.timerId),this.timerId=null},n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/Skill.ts",["cc","./Util.ts"],(function(t){var i,s;return{setters:[function(t){i=t.cclegacy},function(t){s=t.Util}],execute:function(){i._RF.push({},"0641a3yoqBJC6zjqG0gn/97","Skill",void 0);t("Skill",function(){function t(t){this.id=void 0,this.lastUsedTime=void 0,this.cd=void 0,this.level=void 0,this.duration=void 0,this.id=t.id,this.lastUsedTime=t.lastUsedTime,this.level=t.level,this.duration=t.duration,this.cd=s._stringToArrayByComma(t.cd)}var i=t.prototype;return i.canCast=function(){return!1},i.cast=function(t,i){},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/test.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IEffectContainer.ts","./logUtil.ts"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.Effect},function(t){o=t.logUtil}],execute:function(){n._RF.push({},"7fe6aKr/QFPNYEpdfH+EtEt","test",void 0);t("test",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.apply=function(t){o.instance.log("test002","通用测试开始"),this.timerId=setTimeout((function(){o.instance.log("test002","通用测试结束")}),this.duration)},i.remove=function(t){o.instance.log("test002","通用测试终止"),clearTimeout(this.timerId),this.timerId=null},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIBranchChoose.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UILayoutBtn.ts","./Constant.ts","./LevelCon.ts"],(function(t){var n,e,o,r,s,a,c,i,h,l,u,p;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.instantiate,s=t.Sprite,a=t.Label,c=t.EventHandler,i=t.director,h=t.Button},function(t){l=t.UILayoutBtn},function(t){u=t.Constant},function(t){p=t.LevelCon}],execute:function(){var f;e._RF.push({},"0b9afNu8OhAh4Jhbo9/ErLs","UIBranchChoose",void 0);var g=o.ccclass;t("UIBranchChoose",g("UIBranchChoose")(f=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).logLevel="UIBranchChoose",n.isAsync=!1,n}n(e,t);var o=e.prototype;return o.preThing=function(){t.prototype.preThing.call(this),this.plist=p.instance.BuffPlist,this.btnJson=p.instance.BranchJson},o.createBtnPool=function(n,e,o){this.log.log(this.logLevel,"createBtnPool"),t.prototype.createBtnPool.call(this,n,e,o);var l=this.plist.getSpriteFrame(o.iconPath);this.btnPool.newPool(o.name,(function(){var t=r(n);t.active=!1,t.getComponent(s).spriteFrame=l,t.children[0].getComponent(a).string=o.name+o.cost;var e=new c;return e.target=i.getScene().getChildByPath(u.STATIC_NODE_PATH.UIGame),e.component="UIGame",e.handler="onBranchChoose",e.customEventData=o.name,t.getComponent(h).clickEvents.push(e),t}),1,(function(t){t.removeFromParent()}))},o.show=function(){if(this.btnJson){for(var n=this.btnJson.filter((function(t){return t.stage==p.instance.stage&&t.regime==u.DYNAMIC_RESOURCE.Actor.Forces1.Regime})).sort((function(t,n){return t.cost-n.cost})),e=0;e<3;e++){var o=this.btnPool.allocc(n[e].name);o.active=!0,this.node.addChild(o)}t.prototype.show.call(this)}},e}(l))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UiDialog.ts","./UIBuffChoose.ts","./UiManager.ts","./Constant.ts"],(function(n){var t,o,i,e,s,u,f,c;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,i=n._decorator,e=n.director},function(n){s=n.UiDialog},function(n){u=n.UIBuffChoose},function(n){f=n.UiManager},function(n){c=n.Constant}],execute:function(){var r;o._RF.push({},"fcd52wrfB5L1Z68hbL7CA0u","UIBuff",void 0);var a=i.ccclass;n("UIBuff",a("UIBuff")(r=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var i=o.prototype;return i.show=function(){this.node.children[1].getComponent(u).show()},i.close=function(){e.isPaused()?f.instance.hideDialog(c.DIALOG_DEF.UIBuff):f.instance.showDialog(c.DIALOG_DEF.UIBuff)},o}(s))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIBuffChoose.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UILayoutBtn.ts","./Constant.ts","./LevelCon.ts","./EffectCon.ts"],(function(t){var n,o,e,a,i,r,s,c,l,f,u,h;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,a=t.instantiate,i=t.Sprite,r=t.Label,s=t.EventHandler,c=t.Button},function(t){l=t.UILayoutBtn},function(t){f=t.Constant},function(t){u=t.LevelCon},function(t){h=t.EffectCon}],execute:function(){var p;o._RF.push({},"631fa9zRnpLLI05Q92iJFbs","UIBuffChoose",void 0);var v=e.ccclass;t("UIBuffChoose",v("UIBuffChoose")(p=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).btnPath=f.DYNAMIC_RESOURCE.Data.BuffPicPath,n.btnJsonPath=f.DYNAMIC_RESOURCE.Data.BuffJsonPath,n.logLevel="UIBuffChoose",n}n(o,t);var e=o.prototype;return e.createBtnPool=function(n,o,e){this.log.log("buff_test","2.createBtnPool"+this.logLevel),this.log.log(this.logLevel,"createBtnPool"),t.prototype.createBtnPool.call(this,n,o,e);var l=o.getSpriteFrame(e.iconPath);this.btnPool.newPool(e.name,(function(){var t=a(n);t.active=!1,t.getComponent(i).spriteFrame=l,t.children[0].getComponent(r).string=e.name;var o=new s;return o.target=u.instance.node,o.component="LevelCon",o.handler="gainBuff",o.customEventData=e,t.getComponent(c).clickEvents.push(o),t}),1,(function(t){t.removeFromParent()}))},e.preThing=function(){t.prototype.preThing.call(this)},e.show=function(){if(this.btnJson){this.node.removeAllChildren();for(var n=h.instance.getRandomObjs(f.GAME_SET.RandomBuffNum),o=0;o<n.length;o++){var e=this.btnPool.allocc(n[o].name);e.children[0].getComponent(r).string=n[o].name,e.active=!0,this.node.addChild(e)}t.prototype.show.call(this)}},o}(l))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIBuffGot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UILayoutBtn.ts","./LevelCon.ts","./EffectCon.ts"],(function(t){var n,e,o,i,r,s,l,c,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.instantiate,r=t.Sprite,s=t.Label},function(t){l=t.UILayoutBtn},function(t){c=t.LevelCon},function(t){a=t.EffectCon}],execute:function(){var f;e._RF.push({},"657b02uWXFKxYS6uS7WZirG","UIBuffGot",void 0);var u=o.ccclass;t("UIBuffGot",u("UIBuffGot")(f=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).logLevel="UIBuffGot",n.isAsync=!1,n}n(e,t);var o=e.prototype;return o.preThing=function(){t.prototype.preThing.call(this),this.plist=c.instance.BuffPlist,this.btnJson=c.instance.BuffJson},o.createBtnPool=function(t,n,e){this.log.log(this.logLevel,"createBtnPool");var o=this.plist.getSpriteFrame(e.iconPath);this.btnPool.newPool(e.name,(function(){var n=i(t);return n.active=!1,n.getComponent(r).spriteFrame=o,n.children[0].getComponent(s).string=e.name,n}),1,(function(t){t.removeFromParent()}))},o.show=function(){if(this.btnJson){this.node.removeAllChildren(),console.log("光环处理");for(var n=a.instance.skillList,e=0;e<n.length;e++){var o=this.btnPool.allocc(n[e].name);o.children[0].getComponent(s).string=n[e].name+n[e].level,o.active=!0,this.node.addChild(o)}t.prototype.show.call(this)}},e}(l))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/UiDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,i,e,t,r;return{setters:[function(n){o=n.inheritsLoose},function(n){i=n.cclegacy,e=n._decorator,t=n.director,r=n.Component}],execute:function(){var c;i._RF.push({},"deb320mAOREh5qz8XLK44w6","UiDialog",void 0);var u=e.ccclass;n("UiDialog",u("UiDialog")(c=function(n){function i(){return n.apply(this,arguments)||this}o(i,n);var e=i.prototype;return e.show=function(){},e.hide=function(){},e.onEnable=function(){t.pause()},e.onDisable=function(){t.resume()},i}(r))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelCon.ts","./logUtil.ts","./Constant.ts","./UiManager.ts"],(function(e){var n,t,o,i,r,s,a,c,u,l,h,p,d,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,c=e.Label,u=e.director,l=e.Component},function(e){h=e.LevelCon},function(e){p=e.logUtil},function(e){d=e.Constant},function(e){f=e.UiManager}],execute:function(){var g,m,U,I,R,C;r._RF.push({},"ede3boagb5PooEfgOTaozu5","UIGame",void 0);var N=s.ccclass,v=s.requireComponent,E=s.property;e("UIGame",(g=N("UIGame"),m=v(h),U=E(a),g(I=m((C=n((R=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(n=e.call.apply(e,[this].concat(r))||this).log=p.instance,n.logLevel="UIGame",o(n,"UIResourceNode",C,i(n)),n}t(n,e);var r=n.prototype;return r.onLoad=function(){this.initFrame(),this.node.on(d.EVENT_NAME.onResourceUpdate,this.onResourceUpdate,this)},r.onDestroy=function(){this.node.off(d.EVENT_NAME.onResourceUpdate,this.onResourceUpdate,this)},r.onBranchChoose=function(e,n){this.log.log(this.logLevel,"点击了"+n),this.node.emit(d.EVENT_NAME.onBranchCreate,n)},r.initFrame=function(){this.UIResourceNode.children[0].children[0].getComponent(c).string=h.instance.GSpawn+"",this.UIResourceNode.children[1].children[0].getComponent(c).string=h.instance.MSpawn+"",this.UIResourceNode.children[2].children[0].getComponent(c).string=h.instance.WSpawn+""},r.onResourceUpdate=function(e,n,t){var o=1==e?"MSpawn":2==e?"WSpawn":"GSpawn",i=t?function(e,n){return e-n}:function(e,n){return e+n};h.instance[o]=i(h.instance[o],n),this.UIResourceNode.children[e].children[0].getComponent(c).string=h.instance[o]+""},r.onBuffShow=function(){u.isPaused()?f.instance.hideDialog(d.DIALOG_DEF.UIBuff):f.instance.showDialog(d.DIALOG_DEF.UIBuff)},r.onPauseGame=function(){u.isPaused()?u.resume():u.pause()},r.onRestartGame=function(){this.node.getComponent(h).restartGame(),this.initFrame()},n}(l)).prototype,"UIResourceNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=R))||I)||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/UILayoutBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pools.ts","./logUtil.ts","./ResourceUtil.ts"],(function(t){var n,o,e,r,i,s,a,l,u,c,f,h,p,b,g,y,P,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,l=t._decorator,u=t.Prefab,c=t.Layout,f=t.Component,h=t.resources,p=t.SpriteAtlas,b=t.error,g=t.JsonAsset},function(t){y=t.Pools},function(t){P=t.logUtil},function(t){v=t.ResourceUtil}],execute:function(){var d,L,B,m,w;a._RF.push({},"5f44d053OBG2KTb1MrCxF+D","UILayoutBtn",void 0);var U=l.ccclass,J=l.property;t("UILayoutBtn",(d=U("UILayoutBtn"),L=J(u),d((w=n((m=function(t){o(a,t);var n=a.prototype;function a(n,o){var i;return i=t.call(this)||this,e(i,"btnPrefab",w,r(i)),i.btnPool=void 0,i.btnPath=void 0,i.plist=void 0,i.btnJsonPath=void 0,i.btnJson=void 0,i.layout=void 0,i.isAsync=!0,i.log=P.instance,i.logLevel="UILayoutBtn",i.btnPath=n,i.btnJsonPath=o,i}return n.onLoad=function(){this.btnPool=new y,this.layout=this.node.getComponent(c),this.isAsync&&this.init()},n.init=function(){var t=i(s().mark((function t(){var n,o=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isAsync){t.next=8;break}return t.next=3,v.loadResType(this.btnJsonPath,g);case 3:return n=t.sent,this.btnJson=n.json.RECORDS,t.abrupt("return",new Promise((function(t){o.log.log(o.logLevel,"init"),o.preThing(),h.load(o.btnPath,p,(function(t,n){o.log.log(o.logLevel,"加载资源"),t?b(t.message||t):(o.btnJson.forEach((function(t){o.createBtnPool(o.btnPrefab,n,t)})),o.show())})),o.log.log(o.logLevel,"加载结束")})));case 8:return t.abrupt("return",new Promise((function(t){o.preThing(),o.btnJson.forEach((function(t){o.createBtnPool(o.btnPrefab,o.plist,t)})),o.show()})));case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.createBtnPool=function(t,n,o){this.log.log(this.logLevel,"super-createBtnPool")},n.preThing=function(){},n.show=function(){this.layout.updateLayout()},n.onDestroy=function(){this.btnPool.destroyAll()},a}(f)).prototype,"btnPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=m))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/UiManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceUtil.ts","./logUtil.ts","./Constant.ts"],(function(t){var n,i,e,a,o,c,s,l,r,h;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,a=t._decorator,o=t.isValid,c=t.find,s=t.Component},function(t){l=t.ResourceUtil},function(t){r=t.logUtil},function(t){h=t.Constant}],execute:function(){var d,u;e._RF.push({},"16e12dzXqJAkLxYnAdo8+zj","UiManager",void 0);var _=a.ccclass;t("UiManager",_("UiManager")(((u=function(t){function e(){for(var n,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this)._dictSharedPanel={},n._dictLoading={},n.UIRoot=null,n.log=r.instance,n.logLevel="UIGame",n}n(e,t);var a=e.prototype;return a.showDialog=function(t,n,i){var e=this;if(void 0===n&&(n=[]),!this._dictLoading[t]){var a=t.split("/").pop(),c=this._dictSharedPanel[t];if(c&&o(c))return this._activatePanel(c,this.UIRoot),void this._callShowMethod(c,a,n,i);this._dictLoading[t]=!0,l.createUI(t,(function(o,c){e._dictLoading[t]=!1,o?console.error(o):(e._dictSharedPanel[t]=c,e._activatePanel(c,e.UIRoot),e._callShowMethod(c,a,n,i))}))}},a._activatePanel=function(t,n){t.parent=n,t.active=!0},a._deactivatePanel=function(t){t.parent=null,t.active=!1},a._callShowMethod=function(t,n,i,e){var a=t.getComponent(n);a&&"function"==typeof a.show?(a.show.apply(a,i),e&&e(a)):this.log.log(this.logLevel,"查找不到脚本文件"+n)},a.hideDialog=function(t,n){if(this._dictSharedPanel.hasOwnProperty(t)){var i=this._dictSharedPanel[t];i&&o(i)&&this._deactivatePanel(i)}this._dictLoading[t]=!1},i(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e,this._instance.UIRoot=c(h.STATIC_NODE_PATH.UI)),this._instance}}]),e}(s))._instance=void 0,d=u))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIShowTxt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UiDialog.ts","./UiManager.ts","./Constant.ts"],(function(t){var n,e,i,o,r,a,c,l,s,u,h,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Node,l=t.Label,s=t.director},function(t){u=t.UiDialog},function(t){h=t.UiManager},function(t){p=t.Constant}],execute:function(){var g,f,d,S,w,D,y;r._RF.push({},"036a9BzhktE/ZRXSFxK8Zzm","UIShowTxt",void 0);var U=a.ccclass,I=a.property;t("UIShowTxt",(g=U("UIShowTxt"),f=I(c),d=I(c),g((D=n((w=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"titleNode",D,o(n)),i(n,"contentNode",y,o(n)),n.titleString="提示",n.contentString="资源不足",n}e(n,t);var r=n.prototype;return r.show=function(){this.titleNode.getComponent(l).string=this.titleString,this.contentNode.getComponent(l).string=this.contentString},r.close=function(){s.isPaused()?h.instance.hideDialog(p.DIALOG_DEF.UIShowTxt):h.instance.showDialog(p.DIALOG_DEF.UIShowTxt)},n}(u)).prototype,"titleNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(w.prototype,"contentNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/Util.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"53455LopwBBrZ6DUJ96z/AG","Util",void 0);t("Util",function(){function t(){}return t._stringToArrayByComma=function(t,n){if(t)return t.split(",").map((function(t){return Number(t.trim())*(n||1)}))},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/wudi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IEffectContainer.ts","./logUtil.ts"],(function(t){var i,n,e,o;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.Effect},function(t){o=t.logUtil}],execute:function(){n._RF.push({},"241c2zlLetLbJJRq/ck0Ymf","wudi",void 0);t("wudi",function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var e=n.prototype;return e.apply=function(t){o.instance.log("test002","无敌开始"),this.timerId=setTimeout((function(){o.instance.log("test002","无敌结束")}),this.duration)},e.remove=function(t){o.instance.log("test002","无敌终止"),clearTimeout(this.timerId),this.timerId=null},n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/yingshi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IEffectContainer.ts","./logUtil.ts"],(function(t){var i,n,e,o;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy},function(t){e=t.Effect},function(t){o=t.logUtil}],execute:function(){n._RF.push({},"2fe0dRMtJ5Pqq91EwXo9fh1","yingshi",void 0);t("yingshi",function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var e=n.prototype;return e.apply=function(t){o.instance.log("test002","影侍开始"),this.timerId=setTimeout((function(){o.instance.log("test002","影侍结束")}),this.duration)},e.remove=function(t){o.instance.log("test002","影侍终止"),clearTimeout(this.timerId),this.timerId=null},n}(e));n._RF.pop()}}}));

System.register("chunks:///_virtual/zengshang.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IEffectContainer.ts"],(function(t){var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.Effect}],execute:function(){n._RF.push({},"9761fnhRZpIlZ50G6Bk8Esz","zengshang",void 0);t("zengshang",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).logLevel="zengshang",e}e(n,t);var o=n.prototype;return o.apply=function(e){t.prototype.apply.call(this,e),this.log.log(this.logLevel,"数据处理"),this.remove(e),e.actorProperty.attack+=this.attackUp[this.level-1]},o.remove=function(t){t.actorProperty.attack=t.data.attack},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/zhuoshao.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IEffectContainer.ts","./Constant.ts"],(function(e){var t,o,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},function(e){n=e.Effect},function(e){i=e.Constant}],execute:function(){o._RF.push({},"1f8bcXQHBJB/YgikczgQeLz","zhuoshao",void 0);e("zhuoshao",function(e){function o(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).logLevel="zhuoshao",t}t(o,e);var n=o.prototype;return n.apply=function(t){var o=this;e.prototype.apply.call(this,t),this.timerId=setInterval((function(){o.log.log(o.logLevel,"描述:每秒灼烧["+o.damPerS+"]"),t.hurt(o.damPerS[o.level-1],null,i.HURT_TYPE.Buff)}),1e3),setTimeout((function(){o.log.log(o.logLevel,o.duration[o.level-1]/1e3+"秒后停止执行"),o.remove(t)}),this.duration[this.level-1]+1e3)},n.remove=function(e){var t=this;this.log.log(this.logLevel,"提前终止");var o=e.buffs.find((function(e){return e.effect.id==t.id}));null!=o.timerId&&e.removeBuff(o.effect.id)},o}(n));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});